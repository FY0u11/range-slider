(()=>{"use strict";var e=document.getElementsByClassName("r-slider");Array.from(e).forEach((function(e,t){var n,i=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div"),u=new CustomEvent("r-slider-updated",{detail:{value:null}});e.insertAdjacentElement("afterbegin",i),i.classList.add("r-slider__circle"),i.insertAdjacentElement("afterbegin",d),d.classList.add("r-slider__cloud","r-slider__cloud_moving","r-slider_hidden");var c,a,o=i.getBoundingClientRect().width,f=parseFloat((c=i,"border-width",document.defaultView.getComputedStyle(c)["border-width"])),v=function(){return d.getBoundingClientRect().width},m=null!==(n=function(){var t=e.dataset.steps;if(!t)return null;try{if(t=JSON.parse(t),!Array.isArray(t))return null;if(t.length<2)return null;t=t.filter((function(e){return"number"==typeof e||"string"==typeof e}))}catch(e){return null}return t}())&&void 0!==n?n:[1,2,3,4,5,6,7,8,9,10],h=function(){return(e.getBoundingClientRect().width-o)/(m.length-1)},g=!1,E=(a=parseInt(e.dataset.startIndex)||0)>=m.length?m.length-1:a<0?0:a,_=null;function y(t){E=(E=Math.round((t-e.getBoundingClientRect().left-o/2)/h()))>=m.length?m.length-1:E<0?0:E}function L(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||_!==E){_=E;var n=h()*E;i.style.left=n+"px",r.style.visibility=0===E?"hidden":"visible",l.style.visibility=E===m.length-1?"hidden":"visible",d.innerHTML=""+m[E],d.style.left=-(f+v()/2-o/2)+"px",s.style.width=n+o/2+"px",u.detail.value=m[E],e.dispatchEvent(u)}}e.insertAdjacentElement("afterbegin",r),r.classList.add("r-slider__cloud","r-slider__cloud_left"),e.insertAdjacentElement("beforeend",l),l.classList.add("r-slider__cloud","r-slider__cloud_right"),e.insertAdjacentElement("beforeend",s),s.classList.add("r-slider__filled-line"),d.style.visibility="visible",r.innerHTML=""+m[0],l.innerHTML=""+m[m.length-1],i.addEventListener("mousedown",(function(){g=!0})),document.addEventListener("mouseup",(function(){g=!1})),document.addEventListener("mousemove",(function(e){g&&(y(e.clientX),L())})),i.addEventListener("touchstart",(function(){g=!0})),document.addEventListener("touchend",(function(){g=!1})),document.addEventListener("touchmove",(function(e){g&&(y(e.touches[0].clientX),L())})),window.addEventListener("resize",(function(){L(!0)})),e.addEventListener("click",(function(e){y(e.clientX),L()})),L()}))})();