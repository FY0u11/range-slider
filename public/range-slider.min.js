(()=>{"use strict";var e=document.getElementsByClassName("r-slider");Array.from(e).forEach((function(e,t){var n=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),s=new CustomEvent("r-slider-updated",{detail:{value:null}});e.insertAdjacentElement("afterbegin",n),n.classList.add("r-slider__circle"),n.insertAdjacentElement("afterbegin",i),i.classList.add("r-slider__cloud","r-slider__cloud_moving","r-slider_hidden");var a,c,u=n.getBoundingClientRect().width,o=parseFloat((a=n,"border-width",document.defaultView.getComputedStyle(a)["border-width"])),f=function(){return i.getBoundingClientRect().width},v=function(){var t=e.dataset.steps;if(!t){var n=parseInt(e.dataset.min)||0,i=parseInt(e.dataset.max);i=isNaN(i)?100:i;var d=parseInt(e.dataset.step)||1;d=d<0?1:d;for(var r=[],l=n;l<=i;)r.push(l),l+=d;return r}try{if(t=JSON.parse(t),!Array.isArray(t))return null;if(t.length<2)return null;t=t.filter((function(e){return"number"==typeof e||"string"==typeof e}))}catch(e){return null}return t}(),m=function(){return(e.getBoundingClientRect().width-u)/(v.length-1)},h=!1,g=(c=parseInt(e.dataset.startIndex)||0)>=v.length?v.length-1:c<0?0:c,E=null;function _(t){g=(g=Math.round((t-e.getBoundingClientRect().left-u/2)/m()))>=v.length?v.length-1:g<0?0:g}function p(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||E!==g){E=g;var a=m()*g;n.style.left=a+"px",d.style.visibility=0===g?"hidden":"visible",r.style.visibility=g===v.length-1?"hidden":"visible",i.innerHTML=""+v[g],i.style.left=-(o+f()/2-u/2)+"px",l.style.width=a+u/2+"px",s.detail.value=v[g],e.dispatchEvent(s)}}e.insertAdjacentElement("afterbegin",d),d.classList.add("r-slider__cloud","r-slider__cloud_left"),e.insertAdjacentElement("beforeend",r),r.classList.add("r-slider__cloud","r-slider__cloud_right"),e.insertAdjacentElement("beforeend",l),l.classList.add("r-slider__filled-line"),i.style.visibility="visible",d.innerHTML=""+v[0],r.innerHTML=""+v[v.length-1],n.addEventListener("mousedown",(function(){h=!0})),document.addEventListener("mouseup",(function(){h=!1})),document.addEventListener("mousemove",(function(e){h&&(_(e.clientX),p())})),n.addEventListener("touchstart",(function(){h=!0})),document.addEventListener("touchend",(function(){h=!1})),document.addEventListener("touchmove",(function(e){h&&(_(e.touches[0].clientX),p())})),window.addEventListener("resize",(function(){p(!0)})),e.addEventListener("click",(function(e){_(e.clientX),p()})),p()}))})();