(()=>{"use strict";var e=document.getElementsByClassName("r-slider");Array.from(e).forEach((function(e,t){var n,i=document.createElement("div"),r=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div"),a=new CustomEvent("r-slider-updated",{detail:{value:null}});e.insertAdjacentElement("afterbegin",i),i.classList.add("r-slider__circle"),i.insertAdjacentElement("afterbegin",r),r.classList.add("r-slider__cloud","r-slider__cloud_moving","r-slider_hidden");var u,c,o=i.getBoundingClientRect().width,f=parseFloat((u=i,"border-width",document.defaultView.getComputedStyle(u)["border-width"])),v=function(){return r.getBoundingClientRect().width},m=null!==(n=function(){var t=e.dataset.steps;if(!t)return null;try{if(t=JSON.parse(t),!Array.isArray(t))return null;if(t.length<2)return null;t=t.filter((function(e){return"number"==typeof e||"string"==typeof e}))}catch(e){return null}return t}())&&void 0!==n?n:function(){var t=parseInt(e.dataset.min)||0,n=parseInt(e.dataset.max);n=isNaN(n)?100:n;var i=parseInt(e.dataset.step)||1;i=i<0?1:i;for(var r=[],d=t;d<=n;)r.push(d),d+=i;return r}(),h=function(){return(e.getBoundingClientRect().width-o)/(m.length-1)},g=!1,E=(c=parseInt(e.dataset.startIndex)||0)>=m.length?m.length-1:c<0?0:c,_=null;function p(t){E=(E=Math.round((t-e.getBoundingClientRect().left-o/2)/h()))>=m.length?m.length-1:E<0?0:E}function y(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||_!==E){var n=h()*E;i.style.left=n+"px",d.style.visibility=0===E?"hidden":"visible",l.style.visibility=E===m.length-1?"hidden":"visible",r.innerHTML=""+m[E],r.style.left=-(f+v()/2-o/2)+"px",s.style.width=n+o/2+"px",_!==E&&(a.detail.value=m[E],e.dispatchEvent(a)),_=E}}e.insertAdjacentElement("afterbegin",d),d.classList.add("r-slider__cloud","r-slider__cloud_left"),e.insertAdjacentElement("beforeend",l),l.classList.add("r-slider__cloud","r-slider__cloud_right"),e.insertAdjacentElement("beforeend",s),s.classList.add("r-slider__filled-line"),r.style.visibility="visible",d.innerHTML=""+m[0],l.innerHTML=""+m[m.length-1],i.addEventListener("mousedown",(function(){g=!0})),document.addEventListener("mouseup",(function(){g=!1})),document.addEventListener("mousemove",(function(e){g&&(p(e.clientX),y())})),i.addEventListener("touchstart",(function(){g=!0})),document.addEventListener("touchend",(function(){g=!1})),document.addEventListener("touchmove",(function(e){g&&(p(e.touches[0].clientX),y())})),window.addEventListener("resize",(function(){y(!0)})),e.addEventListener("click",(function(e){p(e.clientX),y()})),y()}))})();